2005-07-05  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

        * src/termview.cpp (CTermView::DrawChar)
	Enable drawing one double-byte character with two different colors.

2005-07-05  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/termview.cpp (CTermView::SetFontFamily)
	Recalculate font size when font family is changed.

2005-07-05  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/widget.cpp (CWidget::Refresh)
	Fix a typo.

2005-07-05  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/font.cpp (CFont::CreateXftFont)
	Fix some problems in font size calculation.

	* src/font.h (CFont::GetMaxWidth())
	Ensure that max width can be devided by 2.

2005-07-04	FourDollars <fourdollars@gmail.com>

	* src/widget.cpp:
	Some bugs fixed, and using naming rules.

	* Doxygen.in:
	Add more information.

2005-07-04  Jim Huang  <jserv@kaffe.org>

	* src/mainframe.cpp (CMainFrame::set_tray_icon):
	Create new pixbuf according to the allocated width of m_TrayIcon.
	NOTE: PCMan reported a strange behavior of tray icons padding
	under KDE 3.3 .

2005-07-04  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* src/pcmanx_pure_gtk2.cpp (main):
	Remove redundant CWidget::Init.

	* src/widget.h
	(CWidget::OnIdleCleanup) (CWidget::Init)
	(CWidget::m_WidgetsToBeDeleted): Removed.
	
	* src/widget.cpp
	(CWidget::OnDestroy) (CWidget::OnIdleCleanup): Implementation removed.
	(delete_CWidget): New helper function.
	(CWidget::OnIdleCleanup): Invoke delete_CWidget while idle via
	g_idle_add_full.
	Fix the most serious bug which cause extremely high system load.

2005-07-04  Jim Huang  <jserv@kaffe.org>

	* src/mainframe.h:
	Rename m_Tray_icon to m_TrayIcon_Instance.
	(CMainFrame::set_tray_icon): New helper function splitted from
	constructor to handle tray icon routines.
	(CMainFrame::m_TrayButton) (CMainFrame::m_TrayIcon): New member
	data. Likewise.

	* src/pcmanx_pure_gtk2.cpp (main):
	Adjust m_Tray_icon naming change.

	* src/mainframe.cpp
	(CMainFrame::CMainFrame): Use new helper function, set_tray_icon,
	and make sure m_MainIcon is null at startup.
	(CMainFrame::OnTrayButton_Changed): Implemented via invoking 
	set_tray_icon.

2005-07-03  Kanru Chen  <koster@debian.org.tw>
	
	* src/mainframe.cpp
	(CMainFrame::CloseCon):
	Remove correct note page and move to next page.

	* src/termview.cpp
	(CTermView::OnDestroy) (CTermView::~CTermView):
	Move XftDrawDestroy(m_XftDraw) to destructor to avoid X error,
	however, actually this destructor never be called because strange
	CWidget behavior. Need to FIX. Warn: memory leak.

	* src/caret.cpp,
	src/termview.cpp,
	src/widget.cpp:
	Some debug message.

2005-07-03  Jim Huang  <jserv@kaffe.org>

	* sitelistdlg.cpp (CSiteListDlg::LoadSiteList):
	Workaround of new GTK_STOCK_DIRECTORY macro introduced in GTK+ 2.6 .
	Reported by Chung-Yen Chang  <candyz@cle.linux.org.tw>.
	NOTE: Still some incompatibility to be fixed later.
	
	* po/pcmanx.pot:
	New file. Missing translation template.

	* autogen.sh:
	Add workaround of some cases that mkinstalldirs was not correctly
	installed.

2005-07-03  Jim Huang  <jserv@kaffe.org>

	* src/mainframe.cpp
	(CMainFrame::OnTrayButton_Toggled):
	Temporal workaround of G_GNUC_UNUSED attribute.
	Reported by Kanru Chen  <koster@debian.org.tw>.

2005-07-03  Jim Huang  <jserv@kaffe.org>

	* src/docklet/clipboard.c:
	New file. X clipboard hack to detect if daemon is running.

	* src/docklet/eggtrayicon.c,
	src/docklet/eggtrayicon.h:
	New files. Famous EggTrayIcon written by Anders Carlsson
	<andersca@gnu.org>.

	* configure.ac,
	src/Makefile.am:
	Add docklet / system tray support option. Default: enabled.

	* src/mainframe.h
	(CMainFrame::OnTrayButton_Toggled) (CMainFrame::OnTrayButton_Changed):
	New protected methods act as the callback functions for Tray button
	toggled and size-changed.
	(EggTrayIcon *m_Tray_icon):
	New public member data for holding tray icon.

	* src/mainframe.cpp
	(CMainFrame::OnTrayButton_Toggled) (CMainFrame::OnTrayButton_Changed):
	Likewise.
	(CMainFrame::CMainFrame):
	Add primitive tray icon and event handling for docklet / system tray.
	NOTE: we might need a customized tray icon due to size limitation.

	* src/pcmanx_pure_gtk2.cpp (main):
	Make sure that there is only single instance, and show docklet.
	NOTE: we might create higher level method for this task.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* src/pcmanx_pure_gtk2.cpp:
	Use GETTEXT_PACKAGE instead of hard-coded names.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* src/termview.cpp (CTermView::RedrawSel):
	Minor tweaking for MAX3 and MIN3 macro for better readability.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* src/mainframe.cpp 
	(CMainFrame::CreateMenu): Remove puzzling comments which confuse
	intltool.
	(CMainFrame::OnAbout): Update homepage information.

	* src/pcmanx_pure_gtk2.cpp (main):
	Adjust the sequence of gtk_init and g_thread_init, and use fake
	argc/agrv to avoid redundant parsing.

	* po/zh_TW.po: Regenerated.

2005-07-02  Kanru Chen  <koster@debian.org.tw>
	
	* configure.ac:
	Change AC_DEFINE(VERSION,...) to AC_DEFINE_UNQUOTED ensure really
	defined this variable.
	
	* ABOUT-NLS:
	New file. need by automake-1.9.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* src/termview.cpp (CTermView::OnLButtonDown),
	src/configfile.cpp (CConfigFile::DoLoad) (CConfigFile::DoSave),
	src/appconfig.cpp (CAppConfig::LoadFavorites),
	src/sitelistdlg.cpp (CSiteListDlg::OnSearch):
	Remove misleading \!\! expression.

2005-07-02  Kanru Chen  <koster@debian.org.tw>

	* src/font.cpp 
	(CFont::CreateXftFont(string, int, int, bool)):
	Adjust font size policy to prevent infinite loop.

	* src/widget.cpp,
	src/telnetcon.cpp:
	Add usleep(100) between each idle call to prevent cpu load
	too high.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* po/POTFILES.in:
	New file. Put the source filenames to be translated here.

	* configure.ac:
	Enhance GNU Gettext support.

	* src/Makefile.am:
	Include *.xpm in EXTRA_DIST.

	* po/zh_TW.po:
	Updated according to new layout.

2005-07-02  Jim Huang  <jserv@kaffe.org>

	* autogen.sh,
	configure.ac,
	Doxygen.in,
	Makefile.am,
	src/Makefile.am:
	New files. Autotools support.

	* po/zh_TW.po:
	Adjust translated messages path.

2005-07-02  Kanru Chen  <koster@debian.org.tw>

	* src/Makefile-byhand:
	Cleanup pkgconfig rules.

2005-07-01  PCMan (Hong Jen Yee)  <hzysoft@sina.com.tw>

	* Initial import of pcmanx_pure_gtk2.
